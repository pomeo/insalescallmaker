{"version":3,"sources":["components/pagination.js"],"names":["addon","component","window","UIkit","define","amd","UI","defaults","items","itemsOnPage","pages","displayedPages","edges","currentPage","lblPrev","lblNext","onSelectPage","boot","ready","context","$","each","ele","this","data","pagination","Utils","options","attr","init","$this","Math","ceil","halfDisplayed","on","e","preventDefault","selectPage","_render","_getInterval","start","max","min","end","render","pageIndex","apply","trigger","i","o","interval","element","empty","_append","text","append","begin","opts","item","extend"],"mappings":"CAIA,SAAUA,GAEN,GAAIC,EAEAC,QAAOC,QACPF,EAAYD,EAAMG,QAGD,kBAAVC,SAAwBA,OAAOC,KACtCD,OAAO,oBAAqB,SAAU,WAClC,MAAOH,IAAaD,EAAMG,UAInC,SAASG,GAER,YA8HA,OA5HAA,GAAGL,UAAU,cAETM,UACIC,MAAiB,EACjBC,YAAiB,EACjBC,MAAiB,EACjBC,eAAiB,EACjBC,MAAiB,EACjBC,YAAiB,EACjBC,SAAiB,EACjBC,SAAiB,EACjBC,aAAiB,cAGrBC,KAAM,WAGFX,EAAGY,MAAM,SAASC,GAEdb,EAAGc,EAAE,uBAAwBD,GAASE,KAAK,WACvC,GAAIC,GAAMhB,EAAGc,EAAEG,KAEf,KAAKD,EAAIE,KAAK,cACV,CAAUlB,EAAGmB,WAAWH,EAAKhB,EAAGoB,MAAMC,QAAQL,EAAIM,KAAK,8BAMvEC,KAAM,WAEF,GAAIC,GAAQP,IAEZA,MAAKb,MAAgBa,KAAKI,QAAQjB,MAASa,KAAKI,QAAQjB,MAAQqB,KAAKC,KAAKT,KAAKI,QAAQnB,MAAQe,KAAKI,QAAQlB,aAAesB,KAAKC,KAAKT,KAAKI,QAAQnB,MAAQe,KAAKI,QAAQlB,aAAe,EACtLc,KAAKV,YAAgBU,KAAKI,QAAQd,YAAc,EAChDU,KAAKU,cAAgBV,KAAKI,QAAQhB,eAAiB,EAEnDY,KAAKW,GAAG,QAAS,eAAgB,SAASC,GACtCA,EAAEC,iBACFN,EAAMO,WAAW/B,EAAGc,EAAEG,MAAMC,KAAK,WAGrCD,KAAKe,WAGTC,aAAc,WAEV,OACIC,MAAOT,KAAKC,KAAKT,KAAKV,YAAcU,KAAKU,cAAgBF,KAAKU,IAAIV,KAAKW,IAAInB,KAAKV,YAAcU,KAAKU,cAAgBV,KAAKb,MAAQa,KAAKI,QAAQhB,gBAAkB,GAAK,GACpKgC,IAAOZ,KAAKC,KAAKT,KAAKV,YAAcU,KAAKU,cAAgBF,KAAKW,IAAInB,KAAKV,YAAcU,KAAKU,cAAeV,KAAKb,OAASqB,KAAKW,IAAInB,KAAKI,QAAQhB,eAAgBY,KAAKb,UAI1KkC,OAAQ,SAASlC,GACba,KAAKb,MAAQA,EAAQA,EAAQa,KAAKb,MAClCa,KAAKe,WAGTD,WAAY,SAASQ,EAAWnC,GAC5Ba,KAAKV,YAAcgC,EACnBtB,KAAKqB,OAAOlC,GAEZa,KAAKI,QAAQX,aAAa8B,MAAMvB,MAAOsB,IACvCtB,KAAKwB,QAAQ,wBAAyBF,EAAWtB,QAGrDe,QAAS,WAEL,GAAsDU,GAAlDC,EAAI1B,KAAKI,QAASuB,EAAW3B,KAAKgB,cAQtC,IANAhB,KAAK4B,QAAQC,QAGTH,EAAEnC,SAASS,KAAK8B,QAAQJ,EAAEpC,YAAc,GAAIyC,KAAML,EAAEnC,UAGpDoC,EAASV,MAAQ,GAAKS,EAAErC,MAAQ,EAAG,CAEnC,GAAI+B,GAAMZ,KAAKW,IAAIO,EAAErC,MAAOsC,EAASV,MAErC,KAAKQ,EAAI,EAAOL,EAAJK,EAASA,IAAKzB,KAAK8B,QAAQL,EAEnCC,GAAErC,MAAQsC,EAASV,OAAUU,EAASV,MAAQS,EAAErC,OAAS,EACzDW,KAAK4B,QAAQI,OAAO,6BACbL,EAASV,MAAQS,EAAErC,OAAS,GACnCW,KAAK8B,QAAQJ,EAAErC,OAKvB,IAAKoC,EAAIE,EAASV,MAAOQ,EAAIE,EAASP,IAAKK,IAAKzB,KAAK8B,QAAQL,EAG7D,IAAIE,EAASP,IAAMpB,KAAKb,OAASuC,EAAErC,MAAQ,EAAG,CAEtCW,KAAKb,MAAQuC,EAAErC,MAAQsC,EAASP,KAAQpB,KAAKb,MAAQuC,EAAErC,MAAQsC,EAASP,KAAO,EAC/EpB,KAAK4B,QAAQI,OAAO,6BACbhC,KAAKb,MAAQuC,EAAErC,MAAQsC,EAASP,KAAO,GAC9CpB,KAAK8B,QAAQH,EAASP,MAG1B,IAAIa,GAAQzB,KAAKU,IAAIlB,KAAKb,MAAQuC,EAAErC,MAAOsC,EAASP,IAEpD,KAAKK,EAAIQ,EAAOR,EAAIzB,KAAKb,MAAOsC,IAAKzB,KAAK8B,QAAQL,GAIlDC,EAAElC,SAASQ,KAAK8B,QAAQJ,EAAEpC,YAAc,GAAIyC,KAAML,EAAElC,WAG5DsC,QAAS,SAASR,EAAWY,GAEzB,GAAkBC,GAAY/B,CAE9BkB,GAAwB,EAAZA,EAAgB,EAAKA,EAAYtB,KAAKb,MAAQmC,EAAYtB,KAAKb,MAAQ,EACnFiB,EAAYrB,EAAGc,EAAEuC,QAASL,KAAMT,EAAY,GAAKY,GAEjDC,EAAQb,GAAatB,KAAKV,YAAe,+BAAkCc,EAAY,KAAI,eAClD,uBAAuBkB,EAAU,GAAG,gBAAgBA,EAAU,KAAKlB,EAAQ2B,KAAK,YAEzH/B,KAAK4B,QAAQI,OAAOG,MAIrBpD,EAAGmB","file":"components/pagination.js","sourcesContent":["/*! UIkit 2.17.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n/*\n * Based on simplePagination - Copyright (c) 2012 Flavius Matis - http://flaviusmatis.github.com/simplePagination.js/ (MIT)\n */\n(function(addon) {\n\n    var component;\n\n    if (window.UIkit) {\n        component = addon(UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-pagination\", [\"uikit\"], function(){\n            return component || addon(UIkit);\n        });\n    }\n\n})(function(UI){\n\n    \"use strict\";\n\n    UI.component('pagination', {\n\n        defaults: {\n            items          : 1,\n            itemsOnPage    : 1,\n            pages          : 0,\n            displayedPages : 3,\n            edges          : 3,\n            currentPage    : 1,\n            lblPrev        : false,\n            lblNext        : false,\n            onSelectPage   : function() {}\n        },\n\n        boot: function() {\n\n            // init code\n            UI.ready(function(context) {\n\n                UI.$(\"[data-uk-pagination]\", context).each(function(){\n                    var ele = UI.$(this);\n\n                    if (!ele.data(\"pagination\")) {\n                        var obj = UI.pagination(ele, UI.Utils.options(ele.attr(\"data-uk-pagination\")));\n                    }\n                });\n            });\n        },\n\n        init: function() {\n\n            var $this = this;\n\n            this.pages         = this.options.pages ?  this.options.pages : Math.ceil(this.options.items / this.options.itemsOnPage) ? Math.ceil(this.options.items / this.options.itemsOnPage) : 1;\n            this.currentPage   = this.options.currentPage - 1;\n            this.halfDisplayed = this.options.displayedPages / 2;\n\n            this.on(\"click\", \"a[data-page]\", function(e){\n                e.preventDefault();\n                $this.selectPage(UI.$(this).data(\"page\"));\n            });\n\n            this._render();\n        },\n\n        _getInterval: function() {\n\n            return {\n                start: Math.ceil(this.currentPage > this.halfDisplayed ? Math.max(Math.min(this.currentPage - this.halfDisplayed, (this.pages - this.options.displayedPages)), 0) : 0),\n                end  : Math.ceil(this.currentPage > this.halfDisplayed ? Math.min(this.currentPage + this.halfDisplayed, this.pages) : Math.min(this.options.displayedPages, this.pages))\n            };\n        },\n\n        render: function(pages) {\n            this.pages = pages ? pages : this.pages;\n            this._render();\n        },\n\n        selectPage: function(pageIndex, pages) {\n            this.currentPage = pageIndex;\n            this.render(pages);\n\n            this.options.onSelectPage.apply(this, [pageIndex]);\n            this.trigger('select.uk.pagination', [pageIndex, this]);\n        },\n\n        _render: function() {\n\n            var o = this.options, interval = this._getInterval(), i;\n\n            this.element.empty();\n\n            // Generate Prev link\n            if (o.lblPrev) this._append(o.currentPage - 1, {text: o.lblPrev});\n\n            // Generate start edges\n            if (interval.start > 0 && o.edges > 0) {\n\n                var end = Math.min(o.edges, interval.start);\n\n                for (i = 0; i < end; i++) this._append(i);\n\n                if (o.edges < interval.start && (interval.start - o.edges != 1)) {\n                    this.element.append('<li><span>...</span></li>');\n                } else if (interval.start - o.edges == 1) {\n                    this._append(o.edges);\n                }\n            }\n\n            // Generate interval links\n            for (i = interval.start; i < interval.end; i++) this._append(i);\n\n            // Generate end edges\n            if (interval.end < this.pages && o.edges > 0) {\n\n                if (this.pages - o.edges > interval.end && (this.pages - o.edges - interval.end != 1)) {\n                    this.element.append('<li><span>...</span></li>');\n                } else if (this.pages - o.edges - interval.end == 1) {\n                    this._append(interval.end++);\n                }\n\n                var begin = Math.max(this.pages - o.edges, interval.end);\n\n                for (i = begin; i < this.pages; i++) this._append(i);\n            }\n\n            // Generate Next link (unless option is set for at front)\n            if (o.lblNext) this._append(o.currentPage + 1, {text: o.lblNext});\n        },\n\n        _append: function(pageIndex, opts) {\n\n            var $this = this, item, link, options;\n\n            pageIndex = pageIndex < 0 ? 0 : (pageIndex < this.pages ? pageIndex : this.pages - 1);\n            options   = UI.$.extend({ text: pageIndex + 1 }, opts);\n\n            item = (pageIndex == this.currentPage) ? '<li class=\"uk-active\"><span>' + (options.text) + '</span></li>'\n                                                   : '<li><a href=\"#page-'+(pageIndex+1)+'\" data-page=\"'+pageIndex+'\">'+options.text+'</a></li>';\n\n            this.element.append(item);\n        }\n    });\n\n    return UI.pagination;\n});\n"],"sourceRoot":"/source/"}