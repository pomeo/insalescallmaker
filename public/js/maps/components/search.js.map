{"version":3,"sources":["components/search.js"],"names":["addon","component","window","UIkit","define","amd","UI","defaults","msgResultsHeader","msgMoreResults","msgNoResults","template","renderer","data","opts","this","options","dropdown","append","items","results","show","boot","$html","on","ele","$","search","Utils","attr","init","$this","autocomplete","element","addClass","input","val","closest","value","removeClass","e","url","location","href","moreresults","submit"],"mappings":"CACA,SAAUA,GAEN,GAAIC,EAEAC,QAAOC,QACPF,EAAYD,EAAMG,QAGD,kBAAVC,SAAwBA,OAAOC,KACtCD,OAAO,gBAAiB,SAAU,WAC9B,MAAOH,IAAaD,EAAMG,UAInC,SAASG,GAER,YAEAA,GAAGL,UAAU,UACTM,UACIC,iBAAqB,iBACrBC,eAAqB,eACrBC,aAAqB,mBACrBC,SAAqB,m9CAqBrBC,SAAU,SAASC,GAEf,GAAkBC,GAAOC,KAAKC,OAE9BD,MAAKE,SAASC,OAAOH,KAAKJ,UAAUQ,MAAQN,EAAKO,YAAeZ,iBAAmBM,EAAKN,iBAAkBC,eAAkBK,EAAKL,eAAgBC,aAAgBI,EAAKJ,gBACtKK,KAAKM,SAIbC,KAAM,WAGFhB,EAAGiB,MAAMC,GAAG,qBAAsB,mBAAoB,WAClD,GAAIC,GAAKnB,EAAGoB,EAAEX,KAEd,KAAKU,EAAIZ,KAAK,UACV,CAAUP,EAAGqB,OAAOF,EAAKnB,EAAGsB,MAAMZ,QAAQS,EAAII,KAAK,wBAK/DC,KAAM,WACF,GAAIC,GAAQhB,IAEZA,MAAKiB,aAAe1B,EAAG0B,aAAajB,KAAKkB,QAASlB,KAAKC,SAEvDD,KAAKiB,aAAaf,SAASiB,SAAS,sBAEpCnB,KAAKiB,aAAaG,MAAMX,GAAG,QAAS,WAChCO,EAAME,QAAQF,EAAMC,aAAaG,MAAMC,MAAQ,WAAW,eAAe,eAC1EC,QAAQ,QAAQb,GAAG,QAAS,WAC3BO,EAAMO,MAAM,GACZP,EAAME,QAAQM,YAAY,eAG9BxB,KAAKS,GAAG,yBAA0B,SAASgB,EAAG3B,GACtCA,EAAK4B,IACPC,SAASC,KAAO9B,EAAK4B,IACb5B,EAAK+B,aACbb,EAAMC,aAAaG,MAAME,QAAQ,QAAQQ,WAI/C9B,KAAKkB,QAAQpB,KAAK,SAAUE","file":"components/search.js","sourcesContent":["/*! UIkit 2.17.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n(function(addon) {\n\n    var component;\n\n    if (window.UIkit) {\n        component = addon(UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-search\", [\"uikit\"], function(){\n            return component || addon(UIkit);\n        });\n    }\n\n})(function(UI){\n\n    \"use strict\";\n\n    UI.component('search', {\n        defaults: {\n            msgResultsHeader   : 'Search Results',\n            msgMoreResults     : 'More Results',\n            msgNoResults       : 'No results found',\n            template           : '<ul class=\"uk-nav uk-nav-search uk-autocomplete-results\">\\\n                                      {{#msgResultsHeader}}<li class=\"uk-nav-header uk-skip\">{{msgResultsHeader}}</li>{{/msgResultsHeader}}\\\n                                      {{#items && items.length}}\\\n                                          {{~items}}\\\n                                          <li data-url=\"{{!$item.url}}\">\\\n                                              <a href=\"{{!$item.url}}\">\\\n                                                  {{{$item.title}}}\\\n                                                  {{#$item.text}}<div>{{{$item.text}}}</div>{{/$item.text}}\\\n                                              </a>\\\n                                          </li>\\\n                                          {{/items}}\\\n                                          {{#msgMoreResults}}\\\n                                              <li class=\"uk-nav-divider uk-skip\"></li>\\\n                                              <li class=\"uk-search-moreresults\" data-moreresults=\"true\"><a href=\"#\" onclick=\"jQuery(this).closest(\\'form\\').submit();\">{{msgMoreResults}}</a></li>\\\n                                          {{/msgMoreResults}}\\\n                                      {{/end}}\\\n                                      {{^items.length}}\\\n                                        {{#msgNoResults}}<li class=\"uk-skip\"><a>{{msgNoResults}}</a></li>{{/msgNoResults}}\\\n                                      {{/end}}\\\n                                  </ul>',\n\n            renderer: function(data) {\n\n                var $this = this, opts = this.options;\n\n                this.dropdown.append(this.template({\"items\":data.results || [], \"msgResultsHeader\":opts.msgResultsHeader, \"msgMoreResults\": opts.msgMoreResults, \"msgNoResults\": opts.msgNoResults}));\n                this.show();\n            }\n        },\n\n        boot: function() {\n\n            // init code\n            UI.$html.on(\"focus.search.uikit\", \"[data-uk-search]\", function(e) {\n                var ele =UI.$(this);\n\n                if (!ele.data(\"search\")) {\n                    var obj = UI.search(ele, UI.Utils.options(ele.attr(\"data-uk-search\")));\n                }\n            });\n        },\n\n        init: function() {\n            var $this = this;\n\n            this.autocomplete = UI.autocomplete(this.element, this.options);\n\n            this.autocomplete.dropdown.addClass('uk-dropdown-search');\n\n            this.autocomplete.input.on(\"keyup\", function(){\n                $this.element[$this.autocomplete.input.val() ? \"addClass\":\"removeClass\"](\"uk-active\");\n            }).closest(\"form\").on(\"reset\", function(){\n                $this.value=\"\";\n                $this.element.removeClass(\"uk-active\");\n            });\n\n            this.on('select.uk.autocomplete', function(e, data) {\n                if (data.url) {\n                  location.href = data.url;\n                } else if(data.moreresults) {\n                  $this.autocomplete.input.closest('form').submit();\n                }\n            });\n\n            this.element.data(\"search\", this);\n        }\n    });\n});\n"],"sourceRoot":"/source/"}