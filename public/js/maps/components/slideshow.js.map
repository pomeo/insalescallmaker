{"version":3,"sources":["components/slideshow.js"],"names":["addon","component","window","UIkit","define","amd","UI","Animations","defaults","animation","duration","height","start","autoplay","autoplayInterval","videoautoplay","videomute","kenburns","slices","pauseOnHover","current","interval","hovering","boot","ready","context","$","each","slideshow","this","data","Utils","options","attr","init","canvas","$this","container","element","hasClass","find","slides","children","slidesCount","length","animating","triggers","fixFullscreen","navigator","userAgent","match","index","slide","media","eq","placeholder","nodeName","cover","css","background-image","width","prepend","src","on","pausemedia","mutemedia","setTimeout","indexOf","join","addClass","support","touch","img","toDataURL","e","preventDefault","show","parseInt","stop","filter","$win","debounce","resize","innerHeight","playmedia","applyKenBurns","mouseenter","mouseleave","type","is","Math","max","direction","next","dir","currentmedia","nextmedia","finalize","removeClass","checkDisplay","trigger","apply","then","hasKenBurns","animations","kbindex","previous","setInterval","clearInterval","muted","play","contentWindow","postMessage","pause","none","d","Deferred","resolve","promise","scroll","one","end","bind","swipe","scale","fade"],"mappings":"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","file":"components/slideshow.js","sourcesContent":["/*! UIkit 2.17.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n(function(addon) {\n\n    var component;\n\n    if (window.UIkit) {\n        component = addon(UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-slideshow\", [\"uikit\"], function() {\n            return component || addon(UIkit);\n        });\n    }\n\n})(function(UI) {\n\n    \"use strict\";\n\n    var Animations;\n\n    UI.component('slideshow', {\n\n        defaults: {\n            animation        : \"fade\",\n            duration         : 500,\n            height           : \"auto\",\n            start            : 0,\n            autoplay         : false,\n            autoplayInterval : 7000,\n            videoautoplay    : true,\n            videomute        : true,\n            kenburns         : false,\n            slices           : 15,\n            pauseOnHover     : true\n        },\n\n        current  : false,\n        interval : null,\n        hovering : false,\n\n        boot: function() {\n\n            // init code\n            UI.ready(function(context) {\n\n                UI.$('[data-uk-slideshow]', context).each(function() {\n\n                    var slideshow = UI.$(this);\n\n                    if (!slideshow.data(\"slideshow\")) {\n                        var obj = UI.slideshow(slideshow, UI.Utils.options(slideshow.attr(\"data-uk-slideshow\")));\n                    }\n                });\n            });\n        },\n\n        init: function() {\n\n            var $this = this, canvas;\n\n            this.container     = this.element.hasClass('uk-slideshow') ? this.element : UI.$(this.find('.uk-slideshow'));\n            this.slides        = this.container.children();\n            this.slidesCount   = this.slides.length;\n            this.current       = this.options.start;\n            this.animating     = false;\n            this.triggers      = this.find('[data-uk-slideshow-item]');\n            this.fixFullscreen = navigator.userAgent.match(/(iPad|iPhone|iPod)/g) && this.container.hasClass('uk-slideshow-fullscreen'); // viewport unit fix for height:100vh - should be fixed in iOS 8\n\n            this.slides.each(function(index) {\n\n                var slide = UI.$(this),\n                    media = slide.children('img,video,iframe').eq(0);\n\n                slide.data('media', media);\n                slide.data('sizer', media);\n\n                if (media.length) {\n\n                    var placeholder;\n\n                    switch(media[0].nodeName) {\n                        case 'IMG':\n\n                            var cover = UI.$('<div class=\"uk-cover-background uk-position-cover\"></div>').css({'background-image':'url('+ media.attr('src') + ')'});\n\n                            media.css({'width': '100%','height': 'auto'});\n                            slide.prepend(cover).data('cover', cover);\n                            break;\n                        case 'IFRAME':\n\n                            var src = media[0].src;\n\n                            media\n                                .attr('src', '').on('load', function(){\n\n                                    if (index !== $this.current || (index == $this.current && !$this.options.videoautoplay)) {\n                                        $this.pausemedia(media);\n                                    }\n\n                                    if ($this.options.videomute) {\n                                        $this.mutemedia(media);\n                                        setTimeout(function() {\n                                            $this.mutemedia(media);\n                                        }, 1000);\n                                    }\n\n                                })\n                                .attr('src', [src, (src.indexOf('?') > -1 ? '&':'?'), 'enablejsapi=1&api=1'].join(''))\n                                .addClass('uk-position-absolute');\n\n                                // disable pointer events\n                                if(!UI.support.touch) media.css('pointer-events', 'none');\n\n                            placeholder = true;\n\n                            if (UI.cover) {\n                                UI.cover(media);\n                                media.attr('data-uk-cover', '{}');\n                            }\n\n                            break;\n                        case 'VIDEO':\n                            media.addClass('uk-cover-object uk-position-absolute');\n                            placeholder = true;\n\n                            if ($this.options.videomute) $this.mutemedia(media);\n                    }\n\n                    if (placeholder) {\n\n                        canvas  = UI.$('<canvas></canvas>').attr({'width': media[0].width, 'height': media[0].height});\n                        var img = UI.$('<img style=\"width:100%;height:auto;\">').attr('src', canvas[0].toDataURL());\n\n                        slide.prepend(img);\n                        slide.data('sizer', img);\n                    }\n\n                } else {\n                    slide.data('sizer', slide);\n                }\n            });\n\n            this.on(\"click.uikit.slideshow\", '[data-uk-slideshow-item]', function(e) {\n\n                e.preventDefault();\n\n                var slide = UI.$(this).attr('data-uk-slideshow-item');\n\n                if ($this.current == slide) return;\n\n                switch(slide) {\n                    case 'next':\n                    case 'previous':\n                        $this[slide=='next' ? 'next':'previous']();\n                        break;\n                    default:\n                        $this.show(parseInt(slide, 10));\n                }\n\n                $this.stop();\n            });\n\n            // Set start slide\n            this.slides.eq(this.current).addClass('uk-active');\n            this.triggers.filter('[data-uk-slideshow-item=\"'+this.current+'\"]').addClass('uk-active');\n\n            UI.$win.on(\"resize load\", UI.Utils.debounce(function() {\n                $this.resize();\n\n                if ($this.fixFullscreen) {\n                    $this.container.css('height', window.innerHeight);\n                    $this.slides.css('height', window.innerHeight);\n                }\n            }, 100));\n\n            this.resize();\n\n            // Set autoplay\n            if (this.options.autoplay) {\n                this.start();\n            }\n\n            if (this.options.videoautoplay && this.slides.eq(this.current).data('media')) {\n                this.playmedia(this.slides.eq(this.current).data('media'));\n            }\n\n            if (this.options.kenburns) {\n                this.applyKenBurns(this.slides.eq(this.current));\n            }\n\n            this.container.on({\n                mouseenter: function() { if ($this.options.pauseOnHover) $this.hovering = true;  },\n                mouseleave: function() { $this.hovering = false; }\n            });\n\n            this.on('swipeRight swipeLeft', function(e) {\n                $this[e.type=='swipeLeft' ? 'next' : 'previous']();\n            });\n\n            this.on('display.uk.check', function(){\n                if ($this.element.is(\":visible\")) {\n\n                    $this.resize();\n\n                    if ($this.fixFullscreen) {\n                        $this.container.css('height', window.innerHeight);\n                        $this.slides.css('height', window.innerHeight);\n                    }\n                }\n            });\n        },\n\n\n        resize: function() {\n\n            if (this.container.hasClass('uk-slideshow-fullscreen')) return;\n\n            var $this = this, height = this.options.height;\n\n            if (this.options.height === 'auto') {\n\n                height = 0;\n\n                this.slides.css('height', '').each(function() {\n                    height = Math.max(height, UI.$(this).height());\n                });\n            }\n\n            this.container.css('height', height);\n            this.slides.css('height', height);\n        },\n\n        show: function(index, direction) {\n\n            if (this.animating) return;\n\n            this.animating = true;\n\n            var $this        = this,\n                current      = this.slides.eq(this.current),\n                next         = this.slides.eq(index),\n                dir          = direction ? direction : this.current < index ? -1 : 1,\n                currentmedia = current.data('media'),\n                animation    = Animations[this.options.animation] ? this.options.animation : 'fade',\n                nextmedia    = next.data('media'),\n                finalize     = function() {\n\n                    if (!$this.animating) return;\n\n                    if (currentmedia && currentmedia.is('video,iframe')) {\n                        $this.pausemedia(currentmedia);\n                    }\n\n                    if (nextmedia && nextmedia.is('video,iframe')) {\n                        $this.playmedia(nextmedia);\n                    }\n\n                    next.addClass(\"uk-active\");\n                    current.removeClass(\"uk-active\");\n\n                    $this.animating = false;\n                    $this.current   = index;\n\n                    UI.Utils.checkDisplay(next, '[class*=\"uk-animation-\"]:not(.uk-cover-background.uk-position-cover)');\n\n                    $this.trigger('show.uk.slideshow', [next]);\n                };\n\n            $this.applyKenBurns(next);\n\n            // animation fallback\n            if (!UI.support.animation) {\n                animation = 'none';\n            }\n\n            current = UI.$(current);\n            next    = UI.$(next);\n\n            Animations[animation].apply(this, [current, next, dir]).then(finalize);\n\n            $this.triggers.removeClass('uk-active');\n            $this.triggers.filter('[data-uk-slideshow-item=\"'+index+'\"]').addClass('uk-active');\n        },\n\n        applyKenBurns: function(slide) {\n\n            if (!this.hasKenBurns(slide)) {\n                return;\n            }\n\n            var animations = [\n                    'uk-animation-middle-left',\n                    'uk-animation-top-right',\n                    'uk-animation-bottom-left',\n                    'uk-animation-top-center',\n                    '', // middle-center\n                    'uk-animation-bottom-right'\n                ],\n                index = this.kbindex || 0;\n\n\n            slide.data('cover').attr('class', 'uk-cover-background uk-position-cover').width();\n            slide.data('cover').addClass(['uk-animation-scale', 'uk-animation-reverse', 'uk-animation-15', animations[index]].join(' '));\n\n            this.kbindex = animations[index + 1] ? (index+1):0;\n        },\n\n        hasKenBurns: function(slide) {\n            return (this.options.kenburns && slide.data('cover'));\n        },\n\n        next: function() {\n            this.show(this.slides[this.current + 1] ? (this.current + 1) : 0);\n        },\n\n        previous: function() {\n            this.show(this.slides[this.current - 1] ? (this.current - 1) : (this.slides.length - 1));\n        },\n\n        start: function() {\n\n            this.stop();\n\n            var $this = this;\n\n            this.interval = setInterval(function() {\n                if (!$this.hovering) $this.show($this.options.start, $this.next());\n            }, this.options.autoplayInterval);\n\n        },\n\n        stop: function() {\n            if (this.interval) clearInterval(this.interval);\n        },\n\n        playmedia: function(media) {\n\n            if (!(media && media[0])) return;\n\n            switch(media[0].nodeName) {\n                case 'VIDEO':\n\n                    if (!this.options.videomute) {\n                        media[0].muted = false;\n                    }\n\n                    media[0].play();\n                    break;\n                case 'IFRAME':\n\n                    if (!this.options.videomute) {\n                        media[0].contentWindow.postMessage('{ \"event\": \"command\", \"func\": \"unmute\", \"method\":\"setVolume\", \"value\":1}', '*');\n                    }\n\n                    media[0].contentWindow.postMessage('{ \"event\": \"command\", \"func\": \"playVideo\", \"method\":\"play\"}', '*');\n                    break;\n            }\n        },\n\n        pausemedia: function(media) {\n\n            switch(media[0].nodeName) {\n                case 'VIDEO':\n                    media[0].pause();\n                    break;\n                case 'IFRAME':\n                    media[0].contentWindow.postMessage('{ \"event\": \"command\", \"func\": \"pauseVideo\", \"method\":\"pause\"}', '*');\n                    break;\n            }\n        },\n\n        mutemedia: function(media) {\n\n            switch(media[0].nodeName) {\n                case 'VIDEO':\n                    media[0].muted = true;\n                    break;\n                case 'IFRAME':\n                    media[0].contentWindow.postMessage('{ \"event\": \"command\", \"func\": \"mute\", \"method\":\"setVolume\", \"value\":0}', '*');\n                    break;\n            }\n        }\n    });\n\n    Animations = {\n\n        'none': function() {\n\n            var d = UI.$.Deferred();\n            d.resolve();\n            return d.promise();\n        },\n\n        'scroll': function(current, next, dir) {\n\n            var d = UI.$.Deferred();\n\n            current.css('animation-duration', this.options.duration+'ms');\n            next.css('animation-duration', this.options.duration+'ms');\n\n            next.css('opacity', 1).one(UI.support.animation.end, function() {\n\n                current.removeClass(dir === 1 ? 'uk-slideshow-scroll-backward-out' : 'uk-slideshow-scroll-forward-out');\n                next.css('opacity', '').removeClass(dir === 1 ? 'uk-slideshow-scroll-backward-in' : 'uk-slideshow-scroll-forward-in');\n                d.resolve();\n\n            }.bind(this));\n\n            current.addClass(dir == 1 ? 'uk-slideshow-scroll-backward-out' : 'uk-slideshow-scroll-forward-out');\n            next.addClass(dir == 1 ? 'uk-slideshow-scroll-backward-in' : 'uk-slideshow-scroll-forward-in');\n            next.width(); // force redraw\n\n            return d.promise();\n        },\n\n        'swipe': function(current, next, dir) {\n\n            var d = UI.$.Deferred();\n\n            current.css('animation-duration', this.options.duration+'ms');\n            next.css('animation-duration', this.options.duration+'ms');\n\n            next.css('opacity', 1).one(UI.support.animation.end, function() {\n\n                current.removeClass(dir === 1 ? 'uk-slideshow-swipe-backward-out' : 'uk-slideshow-swipe-forward-out');\n                next.css('opacity', '').removeClass(dir === 1 ? 'uk-slideshow-swipe-backward-in' : 'uk-slideshow-swipe-forward-in');\n                d.resolve();\n\n            }.bind(this));\n\n            current.addClass(dir == 1 ? 'uk-slideshow-swipe-backward-out' : 'uk-slideshow-swipe-forward-out');\n            next.addClass(dir == 1 ? 'uk-slideshow-swipe-backward-in' : 'uk-slideshow-swipe-forward-in');\n            next.width(); // force redraw\n\n            return d.promise();\n        },\n\n        'scale': function(current, next, dir) {\n\n            var d = UI.$.Deferred();\n\n            current.css('animation-duration', this.options.duration+'ms');\n            next.css('animation-duration', this.options.duration+'ms');\n\n            next.css('opacity', 1);\n\n            current.one(UI.support.animation.end, function() {\n\n                current.removeClass('uk-slideshow-scale-out');\n                next.css('opacity', '');\n                d.resolve();\n\n            }.bind(this));\n\n            current.addClass('uk-slideshow-scale-out');\n            current.width(); // force redraw\n\n            return d.promise();\n        },\n\n        'fade': function(current, next, dir) {\n\n            var d = UI.$.Deferred();\n\n            current.css('animation-duration', this.options.duration+'ms');\n            next.css('animation-duration', this.options.duration+'ms');\n\n            next.css('opacity', 1);\n\n            current.one(UI.support.animation.end, function() {\n\n                current.removeClass('uk-slideshow-fade-out');\n                next.css('opacity', '');\n                d.resolve();\n\n            }.bind(this));\n\n            current.addClass('uk-slideshow-fade-out');\n            current.width(); // force redraw\n\n            return d.promise();\n        }\n    };\n\n    UI.slideshow.animations = Animations;\n\n});\n"],"sourceRoot":"/source/"}