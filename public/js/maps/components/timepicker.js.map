{"version":3,"sources":["components/timepicker.js"],"names":["addon","component","window","UIkit","define","amd","UI","times","12h","24h","i","h","push","value","String","defaults","format","delay","boot","$html","on","ele","$","this","data","obj","timepicker","Utils","options","attr","setTimeout","autocomplete","input","focus","init","$this","minLength","template","source","release","element","wrap","parent","dropdown","addClass","selected","find","val","pick","Math","random","triggercomplete","checkTime","arr","timeArray","hour","minute","meridian","time","split","parseInt","isNaN","formatTime","trigger"],"mappings":"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","file":"components/timepicker.js","sourcesContent":["/*! UIkit 2.17.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n(function(addon) {\n\n    var component;\n\n    if (window.UIkit) {\n        component = addon(UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-search\", [\"uikit\"], function(){\n            return component || addon(UIkit);\n        });\n    }\n\n})(function(UI){\n\n    \"use strict\";\n\n    var times = {'12h':[], '24h':[]};\n\n    for(var i = 0, h=''; i<24; i++) {\n\n        h = ''+i;\n\n        if(i<10)  h = '0'+h;\n\n        times['24h'].push({value: (h+':00')});\n        times['24h'].push({value: (h+':30')});\n\n        if (i > 0 && i<13) {\n            times['12h'].push({value: (h+':00 AM')});\n            times['12h'].push({value: (h+':30 AM')});\n        }\n\n        if (i > 12) {\n\n            h = h-12;\n\n            if (h < 10) h = '0'+String(h);\n\n            times['12h'].push({value: (h+':00 PM')});\n            times['12h'].push({value: (h+':30 PM')});\n        }\n    }\n\n\n    UI.component('timepicker', {\n\n        defaults: {\n            format : '24h',\n            delay  : 0\n        },\n\n        boot: function() {\n\n            // init code\n            UI.$html.on(\"focus.timepicker.uikit\", \"[data-uk-timepicker]\", function(e) {\n\n                var ele = UI.$(this);\n\n                if (!ele.data(\"timepicker\")) {\n                    var obj = UI.timepicker(ele, UI.Utils.options(ele.attr(\"data-uk-timepicker\")));\n\n                    setTimeout(function(){\n                        obj.autocomplete.input.focus();\n                    }, 40);\n                }\n            });\n        },\n\n        init: function() {\n\n            var $this  = this;\n\n            this.options.minLength = 0;\n            this.options.template  = '<ul class=\"uk-nav uk-nav-autocomplete uk-autocomplete-results\">{{~items}}<li data-value=\"{{$item.value}}\"><a>{{$item.value}}</a></li>{{/items}}</ul>';\n\n            this.options.source = function(release) {\n                release(times[$this.options.format] || times['12h']);\n            };\n\n            this.element.wrap('<div class=\"uk-autocomplete\"></div>');\n\n            this.autocomplete = UI.autocomplete(this.element.parent(), this.options);\n            this.autocomplete.dropdown.addClass('uk-dropdown-small uk-dropdown-scrollable');\n\n            this.autocomplete.on('show.uk.autocomplete', function() {\n\n                var selected = $this.autocomplete.dropdown.find('[data-value=\"'+$this.autocomplete.input.val()+'\"]');\n\n                setTimeout(function(){\n                    $this.autocomplete.pick(selected, true);\n                }, 10);\n            });\n\n            this.autocomplete.input.on('focus', function(){\n\n                $this.autocomplete.value = Math.random();\n                $this.autocomplete.triggercomplete();\n\n            }).on('blur', function() {\n                $this.checkTime();\n            });\n\n            this.element.data(\"timepicker\", this);\n        },\n\n        checkTime: function() {\n\n            var arr, timeArray, meridian = 'AM', hour, minute, time = this.autocomplete.input.val();\n\n            if (this.options.format == '12h') {\n                arr = time.split(' ');\n                timeArray = arr[0].split(':');\n                meridian = arr[1];\n            } else {\n                timeArray = time.split(':');\n            }\n\n            hour   = parseInt(timeArray[0], 10);\n            minute = parseInt(timeArray[1], 10);\n\n            if (isNaN(hour))   hour = 0;\n            if (isNaN(minute)) minute = 0;\n\n            if (this.options.format == '12h') {\n                if (hour > 12) {\n                    hour = 12;\n                } else if (hour < 0) {\n                    hour = 12;\n                }\n\n                if (meridian === 'am' || meridian === 'a') {\n                    meridian = 'AM';\n                } else if (meridian === 'pm' || meridian === 'p') {\n                    meridian = 'PM';\n                }\n\n                if (meridian !== 'AM' && meridian !== 'PM') {\n                    meridian = 'AM';\n                }\n\n            } else {\n\n                if (hour >= 24) {\n                    hour = 23;\n                } else if (hour < 0) {\n                    hour = 0;\n                }\n            }\n\n            if (minute < 0) {\n                minute = 0;\n            } else if (minute >= 60) {\n                minute = 0;\n            }\n\n            this.autocomplete.input.val(this.formatTime(hour, minute, meridian)).trigger('change');\n        },\n\n        formatTime: function(hour, minute, meridian) {\n            hour = hour < 10 ? '0' + hour : hour;\n            minute = minute < 10 ? '0' + minute : minute;\n            return hour + ':' + minute + (this.options.format == '12h' ? ' ' + meridian : '');\n        }\n    });\n\n});\n"],"sourceRoot":"/source/"}