{"version":3,"sources":["core/cover.js"],"names":["UI","component","defaults","automute","boot","ready","context","$","each","ele","this","data","cover","Utils","options","attr","init","parent","element","$win","on","debounce","check","bind","is","src","contentWindow","postMessage","indexOf","join","css","width","height","dimension","w","h","isNaN","ratio","Math","ceil","UIkit"],"mappings":"CACA,SAAUA,GAEN,YAEAA,GAAGC,UAAU,SAETC,UACIC,UAAW,GAGfC,KAAM,WAGFJ,EAAGK,MAAM,SAASC,GAEdN,EAAGO,EAAE,kBAAmBD,GAASE,KAAK,WAElC,GAAIC,GAAMT,EAAGO,EAAEG,KAEf,KAAID,EAAIE,KAAK,SACT,CAAaX,EAAGY,MAAMH,EAAKT,EAAGa,MAAMC,QAAQL,EAAIM,KAAK,yBAMrEC,KAAM,WAcF,GAZAN,KAAKO,OAASP,KAAKQ,QAAQD,SAE3BjB,EAAGmB,KAAKC,GAAG,gCAAiCpB,EAAGa,MAAMQ,SAAS,WAC1DX,KAAKY,SACPC,KAAKb,MAAO,MAEdA,KAAKU,GAAG,mBAAoB,WACrBV,KAAKQ,QAAQM,GAAG,aAAad,KAAKY,SACvCC,KAAKb,OAEPA,KAAKY,QAEDZ,KAAKQ,QAAQM,GAAG,WAAad,KAAKI,QAAQX,SAAU,CAEpD,GAAIsB,GAAMf,KAAKQ,QAAQH,KAAK,MAE5BL,MAAKQ,QAAQH,KAAK,MAAO,IAAIK,GAAG,OAAQ,WAEpCV,KAAKgB,cAAcC,YAAY,yEAA0E,OAE1GZ,KAAK,OAAQU,EAAMA,EAAIG,QAAQ,KAAO,GAAK,IAAI,IAAM,uBAAuBC,KAAK,OAI5FP,MAAO,WAEHZ,KAAKQ,QAAQY,KACTC,MAAW,GACXC,OAAW,KAGftB,KAAKuB,WAAaC,EAAGxB,KAAKQ,QAAQa,QAASI,EAAGzB,KAAKQ,QAAQc,UAEvDtB,KAAKQ,QAAQH,KAAK,WAAaqB,MAAM1B,KAAKQ,QAAQH,KAAK,YACvDL,KAAKuB,UAAUC,EAAIxB,KAAKQ,QAAQH,KAAK,UAGrCL,KAAKQ,QAAQH,KAAK,YAAcqB,MAAM1B,KAAKQ,QAAQH,KAAK,aACxDL,KAAKuB,UAAUE,EAAIzB,KAAKQ,QAAQH,KAAK,WAGzCL,KAAK2B,MAAY3B,KAAKuB,UAAUC,EAAIxB,KAAKuB,UAAUE,CAEnD,IAAuDJ,GAAOC,EAA1DE,EAAIxB,KAAKO,OAAOc,QAASI,EAAIzB,KAAKO,OAAOe,QAGxCE,GAAIxB,KAAK2B,MAASF,GAEnBJ,EAASO,KAAKC,KAAKJ,EAAIzB,KAAK2B,OAC5BL,EAASG,IAKTJ,EAASG,EACTF,EAASM,KAAKC,KAAKL,EAAIxB,KAAK2B,QAGhC3B,KAAKQ,QAAQY,KACTC,MAAWA,EACXC,OAAWA,QAKxBQ","file":"core/cover.js","sourcesContent":["/*! UIkit 2.17.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n(function(UI){\n\n    \"use strict\";\n\n    UI.component('cover', {\n\n        defaults: {\n            automute : true\n        },\n\n        boot: function() {\n\n            // auto init\n            UI.ready(function(context) {\n\n                UI.$(\"[data-uk-cover]\", context).each(function(){\n\n                    var ele = UI.$(this);\n\n                    if(!ele.data(\"cover\")) {\n                        var plugin = UI.cover(ele, UI.Utils.options(ele.attr(\"data-uk-cover\")));\n                    }\n                });\n            });\n        },\n\n        init: function() {\n\n            this.parent = this.element.parent();\n\n            UI.$win.on('load resize orientationchange', UI.Utils.debounce(function(){\n                this.check();\n            }.bind(this), 100));\n\n            this.on(\"display.uk.check\", function(e) {\n                if(this.element.is(\":visible\")) this.check();\n            }.bind(this));\n\n            this.check();\n\n            if (this.element.is('iframe') && this.options.automute) {\n\n                var src = this.element.attr('src');\n\n                this.element.attr('src', '').on('load', function(){\n\n                    this.contentWindow.postMessage('{ \"event\": \"command\", \"func\": \"mute\", \"method\":\"setVolume\", \"value\":0}', '*');\n\n                }).attr('src', [src, (src.indexOf('?') > -1 ? '&':'?'), 'enablejsapi=1&api=1'].join(''));\n            }\n        },\n\n        check: function() {\n\n            this.element.css({\n                'width'  : '',\n                'height' : ''\n            });\n\n            this.dimension = {w: this.element.width(), h: this.element.height()};\n\n            if (this.element.attr('width') && !isNaN(this.element.attr('width'))) {\n                this.dimension.w = this.element.attr('width');\n            }\n\n            if (this.element.attr('height') && !isNaN(this.element.attr('height'))) {\n                this.dimension.h = this.element.attr('height');\n            }\n\n            this.ratio     = this.dimension.w / this.dimension.h;\n\n            var w = this.parent.width(), h = this.parent.height(), width, height;\n\n            // if element height < parent height (gap underneath)\n            if ((w / this.ratio) < h) {\n\n                width  = Math.ceil(h * this.ratio);\n                height = h;\n\n            // element width < parent width (gap to right)\n            } else {\n\n                width  = w;\n                height = Math.ceil(w / this.ratio);\n            }\n\n            this.element.css({\n                'width'  : width,\n                'height' : height\n            });\n        }\n    });\n\n})(UIkit);\n"],"sourceRoot":"/source/"}