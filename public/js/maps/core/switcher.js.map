{"version":3,"sources":["core/switcher.js"],"names":["UI","coreAnimation","cls","current","next","release","d","$","Deferred","clsIn","clsOut","resolve","promise","hide","removeClass","addClass","one","support","animation","end","css","opacity","display","bind","this","show","options","duration","length","Animations","component","defaults","connect","toggle","active","animating","boot","ready","context","each","switcher","data","Utils","attr","init","$this","on","e","preventDefault","find","item","index","parseInt","type","toggles","filter","eq","tab","animate","isNaN","none","apply","anim","split","trim","hasClass","container","children","then","checkDisplay","trigger","fade","slide-bottom","slide-top","slide-vertical","reverse","slide-left","slide-right","slide-horizontal","scale","animations","UIkit"],"mappings":"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","file":"core/switcher.js","sourcesContent":["/*! UIkit 2.17.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n(function(UI) {\n\n    \"use strict\";\n\n    var Animations;\n\n    UI.component('switcher', {\n\n        defaults: {\n            connect   : false,\n            toggle    : \">*\",\n            active    : 0,\n            animation : false,\n            duration  : 200\n        },\n\n        animating: false,\n\n        boot: function() {\n\n            // init code\n            UI.ready(function(context) {\n\n                UI.$(\"[data-uk-switcher]\", context).each(function() {\n                    var switcher = UI.$(this);\n\n                    if (!switcher.data(\"switcher\")) {\n                        var obj = UI.switcher(switcher, UI.Utils.options(switcher.attr(\"data-uk-switcher\")));\n                    }\n                });\n            });\n        },\n\n        init: function() {\n\n            var $this = this;\n\n            this.on(\"click.uikit.switcher\", this.options.toggle, function(e) {\n                e.preventDefault();\n                $this.show(this);\n            });\n\n            if (this.options.connect) {\n\n                this.connect = UI.$(this.options.connect);\n\n                this.connect.find(\".uk-active\").removeClass(\".uk-active\");\n\n                // delegate switch commands within container content\n                if (this.connect.length) {\n\n                    this.connect.on(\"click\", '[data-uk-switcher-item]', function(e) {\n\n                        e.preventDefault();\n\n                        var item = UI.$(this).attr('data-uk-switcher-item');\n\n                        if ($this.index == item) return;\n\n                        switch(item) {\n                            case 'next':\n                            case 'previous':\n                                $this.show($this.index + (item=='next' ? 1:-1));\n                                break;\n                            default:\n                                $this.show(parseInt(item, 10));\n                        }\n                    }).on('swipeRight swipeLeft', function(e) {\n                        e.preventDefault();\n                        $this.show($this.index + (e.type == 'swipeLeft' ? 1 : -1));\n                    });\n                }\n\n                var toggles = this.find(this.options.toggle),\n                    active  = toggles.filter(\".uk-active\");\n\n                if (active.length) {\n                    this.show(active, false);\n                } else {\n\n                    if (this.options.active===false) return;\n\n                    active = toggles.eq(this.options.active);\n                    this.show(active.length ? active : toggles.eq(0), false);\n                }\n\n                this.on('changed.uk.dom', function() {\n                    $this.connect = UI.$($this.options.connect);\n                });\n            }\n\n        },\n\n        show: function(tab, animate) {\n\n            if (this.animating) {\n                return;\n            }\n\n            if (isNaN(tab)) {\n                tab = UI.$(tab);\n            } else {\n\n                var toggles = this.find(this.options.toggle);\n\n                tab = tab < 0 ? toggles.length-1 : tab;\n                tab = toggles.eq(toggles[tab] ? tab : 0);\n            }\n\n            var $this     = this,\n                active    = UI.$(tab),\n                animation = Animations[this.options.animation] || function(current, next) {\n\n                    if (!$this.options.animation) {\n                        return Animations.none.apply($this);\n                    }\n\n                    var anim = $this.options.animation.split(',');\n\n                    if (anim.length == 1) {\n                        anim[1] = anim[0];\n                    }\n\n                    anim[0] = anim[0].trim();\n                    anim[1] = anim[1].trim();\n\n                    return coreAnimation.apply($this, [anim, current, next]);\n                };\n\n            if (animate===false || !UI.support.animation) {\n                animation = Animations.none;\n            }\n\n            if (active.hasClass(\"uk-disabled\")) return;\n\n            this.find(this.options.toggle).filter(\".uk-active\").removeClass(\"uk-active\");\n            active.addClass(\"uk-active\");\n\n            if (this.options.connect && this.connect.length) {\n\n                this.index = this.find(this.options.toggle).index(active);\n\n                if (this.index == -1 ) {\n                    this.index = 0;\n                }\n\n                this.connect.each(function() {\n\n                    var container = UI.$(this),\n                        children  = UI.$(container.children()),\n                        current   = UI.$(children.filter('.uk-active')),\n                        next      = UI.$(children.eq($this.index));\n\n                        $this.animating = true;\n\n                        animation.apply($this, [current, next]).then(function(){\n\n                            current.removeClass(\"uk-active\");\n                            next.addClass(\"uk-active\");\n                            UI.Utils.checkDisplay(next, true);\n\n                            $this.animating = false;\n                        });\n                });\n            }\n\n            this.trigger(\"show.uk.switcher\", [active]);\n        }\n    });\n\n    Animations = {\n\n        'none': function() {\n            var d = UI.$.Deferred();\n            d.resolve();\n            return d.promise();\n        },\n\n        'fade': function(current, next) {\n            return coreAnimation.apply(this, ['uk-animation-fade', current, next]);\n        },\n\n        'slide-bottom': function(current, next) {\n            return coreAnimation.apply(this, ['uk-animation-slide-bottom', current, next]);\n        },\n\n        'slide-top': function(current, next) {\n            return coreAnimation.apply(this, ['uk-animation-slide-top', current, next]);\n        },\n\n        'slide-vertical': function(current, next, dir) {\n\n            var anim = ['uk-animation-slide-top', 'uk-animation-slide-bottom'];\n\n            if (current && current.index() > next.index()) {\n                anim.reverse();\n            }\n\n            return coreAnimation.apply(this, [anim, current, next]);\n        },\n\n        'slide-left': function(current, next) {\n            return coreAnimation.apply(this, ['uk-animation-slide-left', current, next]);\n        },\n\n        'slide-right': function(current, next) {\n            return coreAnimation.apply(this, ['uk-animation-slide-right', current, next]);\n        },\n\n        'slide-horizontal': function(current, next, dir) {\n\n            var anim = ['uk-animation-slide-right', 'uk-animation-slide-left'];\n\n            if (current && current.index() > next.index()) {\n                anim.reverse();\n            }\n\n            return coreAnimation.apply(this, [anim, current, next]);\n        },\n\n        'scale': function(current, next) {\n            return coreAnimation.apply(this, ['uk-animation-scale-up', current, next]);\n        }\n    };\n\n    UI.switcher.animations = Animations;\n\n\n    // helpers\n\n    function coreAnimation(cls, current, next) {\n\n        var d = UI.$.Deferred(), clsIn = cls, clsOut = cls, release;\n\n        if (next[0]===current[0]) {\n            d.resolve();\n            return d.promise();\n        }\n\n        if (typeof(cls) == 'object') {\n            clsIn  = cls[0];\n            clsOut = cls[1] || cls[0];\n        }\n\n        release = function() {\n\n            if (current) current.hide().removeClass('uk-active '+clsOut+' uk-animation-reverse');\n\n            next.addClass(clsIn).one(UI.support.animation.end, function() {\n\n                next.removeClass(''+clsIn+'').css({opacity:'', display:''});\n\n                d.resolve();\n\n                if (current) current.css({opacity:'', display:''});\n\n            }.bind(this)).show();\n        };\n\n        next.css('animation-duration', this.options.duration+'ms');\n\n        if (current && current.length) {\n\n            current.css('animation-duration', this.options.duration+'ms');\n\n            current.css('display', 'none').addClass(clsOut+' uk-animation-reverse').one(UI.support.animation.end, function() {\n                release();\n            }.bind(this)).css('display', '');\n\n        } else {\n            next.addClass('uk-active');\n            release();\n        }\n\n        return d.promise();\n    }\n\n})(UIkit);\n"],"sourceRoot":"/source/"}