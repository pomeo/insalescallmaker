{"version":3,"sources":["es5-shim.js"],"names":["root","factory","define","amd","exports","module","returnExports","this","toInteger","num","n","Math","floor","abs","isPrimitive","input","type","toPrimitive","val","valueOf","toStr","isFunction","call","toString","TypeError","defineProperty","ArrayPrototype","Array","prototype","ObjectPrototype","Object","FunctionPrototype","Function","StringPrototype","String","NumberPrototype","Number","array_slice","slice","array_splice","splice","array_push","push","array_unshift","unshift","to_string","isRegex","isArray","obj","isString","isArguments","value","str","isArgs","length","callee","supportsDescriptors","e","object","name","method","forceAssign","configurable","enumerable","writable","defineProperties","map","hasOwnProperty","ES","ToObject","o","ToUint32","x","Empty","bind","that","target","bound","args","arguments","binder","result","apply","concat","boundLength","max","boundArgs","i","join","owns","spliceNoopReturnsEmptyArray","a","spliceWorksWithEmptyObject","start","deleteCount","hasUnshiftReturnValueBug","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","_","__","context","forEach","fun","self","split","thisp","filter","every","some","reduceCoercesToObject","reduce","___","list","reduceRightCoercesToObject","reduceRight","hasFirefox2IndexOfBug","indexOf","sought","hasFirefox2LastIndexOfBug","lastIndexOf","min","hasDontEnumBug","propertyIsEnumerable","hasProtoEnumBug","dontEnums","dontEnumsLength","keys","isFn","isObject","isStr","theKeys","skipProto","ctor","constructor","skipConstructor","j","dontEnum","keysWorksWithArguments","originalKeys","negativeDate","negativeYearString","hasNegativeDateBug","Date","toISOString","year","month","isFinite","RangeError","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","dateToJSONIsSupported","toJSON","NaN","toISO","tv","supportsExtendedYears","parse","acceptsInvalidDates","isNaN","doesNotParseY2KNewYear","NativeDate","Y","M","D","h","m","s","ms","date","dayFromMonth","t","months","toUTC","isoDateExpression","RegExp","key","now","UTC","string","match","exec","day","hour","minute","second","millisecond","isLocalTime","Boolean","signOffset","hourOffset","minuteOffset","getTime","hasToFixedBugs","toFixed","toFixedHelpers","base","size","data","multiply","c","divide","numToString","pow","acc","log","fractionDigits","f","z","k","string_split","compliantExecNpcg","separator","limit","separator2","lastIndex","lastLength","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","source","index","replace","test","str_replace","replaceReportsGroupsCorrectly","groups","group","searchValue","replaceValue","hasCapturingGroups","wrappedReplaceValue","originalLastIndex","string_substr","substr","hasNegativeSubstrBug","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","trim","parseInt","origParseInt","hexRegex","radix"],"mappings":"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","file":"es5-shim.js","sourcesContent":["/*!\n * https://github.com/es-shims/es5-shim\n * @license es5-shim Copyright 2009-2014 by contributors, MIT License\n * see https://github.com/es-shims/es5-shim/blob/master/LICENSE\n */\n\n// vim: ts=4 sts=4 sw=4 expandtab\n\n\n// UMD (Universal Module Definition)\n// see https://github.com/umdjs/umd/blob/master/returnExports.js\n// Add semicolon to prevent IIFE from being passed as argument to concatenated code.\n;(function (root, factory) {\n    'use strict';\n    /*global define, exports, module */\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory();\n    }\n}(this, function () {\n\n/**\n * Brings an environment as close to ECMAScript 5 compliance\n * as is possible with the facilities of erstwhile engines.\n *\n * Annotated ES5: http://es5.github.com/ (specific links below)\n * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n */\n\n// Shortcut to an often accessed properties, in order to avoid multiple\n// dereference that costs universally.\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar NumberPrototype = Number.prototype;\nvar array_slice = ArrayPrototype.slice;\nvar array_splice = ArrayPrototype.splice;\nvar array_push = ArrayPrototype.push;\nvar array_unshift = ArrayPrototype.unshift;\nvar call = FunctionPrototype.call;\n\n// Having a toString local variable name breaks in Opera so use to_string.\nvar to_string = ObjectPrototype.toString;\n\nvar isFunction = function (val) {\n    return to_string.call(val) === '[object Function]';\n};\nvar isRegex = function (val) {\n    return to_string.call(val) === '[object RegExp]';\n};\nvar isArray = function isArray(obj) {\n    return to_string.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return to_string.call(obj) === '[object String]';\n};\nvar isArguments = function isArguments(value) {\n    var str = to_string.call(value);\n    var isArgs = str === '[object Arguments]';\n    if (!isArgs) {\n        isArgs = !isArray(value) &&\n          value !== null &&\n          typeof value === 'object' &&\n          typeof value.length === 'number' &&\n          value.length >= 0 &&\n          isFunction(value.callee);\n    }\n    return isArgs;\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return input === null ||\n        type === 'undefined' ||\n        type === 'boolean' ||\n        type === 'number' ||\n        type === 'string';\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toStr;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (isFunction(valueOf)) {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toStr = input.toString;\n    if (isFunction(toStr)) {\n        val = toStr.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\n\nvar ES = {\n    // ES5 9.9\n    // http://es5.github.com/#x9.9\n    ToObject: function (o) {\n        /*jshint eqnull: true */\n        if (o == null) { // this matches both null and undefined\n            throw new TypeError(\"can't convert \" + o + ' to object');\n        }\n        return Object(o);\n    },\n    ToUint32: function ToUint32(x) {\n        return x >>> 0;\n    }\n};\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nvar Empty = function Empty() {};\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var bound;\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n// _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n// us it in defining shortcuts.\nvar owns = call.bind(ObjectPrototype.hasOwnProperty);\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.12\nvar spliceNoopReturnsEmptyArray = (function () {\n    var a = [1, 2];\n    var result = a.splice();\n    return a.length === 2 && isArray(result) && result.length === 0;\n}());\ndefineProperties(ArrayPrototype, {\n    // Safari 5.0 bug where .splice() returns undefined\n    splice: function splice(start, deleteCount) {\n        if (arguments.length === 0) {\n            return [];\n        } else {\n            return array_splice.apply(this, arguments);\n        }\n    }\n}, spliceNoopReturnsEmptyArray);\n\nvar spliceWorksWithEmptyObject = (function () {\n    var obj = {};\n    ArrayPrototype.splice.call(obj, 0, 0, 1);\n    return obj.length === 1;\n}());\ndefineProperties(ArrayPrototype, {\n    splice: function splice(start, deleteCount) {\n        if (arguments.length === 0) { return []; }\n        var args = arguments;\n        this.length = Math.max(toInteger(this.length), 0);\n        if (arguments.length > 0 && typeof deleteCount !== 'number') {\n            args = array_slice.call(arguments);\n            if (args.length < 2) {\n                args.push(this.length - start);\n            } else {\n                args[1] = toInteger(deleteCount);\n            }\n        }\n        return array_splice.apply(this, args);\n    }\n}, !spliceWorksWithEmptyObject);\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.13\n// Return len+argCount.\n// [bugfix, ielt8]\n// IE < 8 bug: [].unshift(0) === undefined but should be \"1\"\nvar hasUnshiftReturnValueBug = [].unshift(0) !== 1;\ndefineProperties(ArrayPrototype, {\n    unshift: function () {\n        array_unshift.apply(this, arguments);\n        return this.length;\n    }\n}, hasUnshiftReturnValueBug);\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n// The IsCallable() check in the Array functions\n// has been replaced with a strict check on the\n// internal class of the object to trap cases where\n// the provided function was actually a regular\n// expression literal, which in V8 and\n// JavaScriptCore is a typeof \"function\".  Only in\n// V8 are regular expression literals permitted as\n// reduce parameters, so it is desirable in the\n// general case for the shim to match the more\n// strict and common behavior of rejecting regular\n// expressions.\n\n// ES5 15.4.4.18\n// http://es5.github.com/#x15.4.4.18\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n// Check failure of by-index access of string characters (IE < 9)\n// and failure of `0 in boxedString` (Rhino)\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.19\n// http://es5.github.com/#x15.4.4.19\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\ndefineProperties(ArrayPrototype, {\n    map: function map(fun /*, thisp*/) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + ' is not a function');\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                result[i] = fun.call(thisp, self[i], i, object);\n            }\n        }\n        return result;\n    }\n}, !properlyBoxesContext(ArrayPrototype.map));\n\n// ES5 15.4.4.20\n// http://es5.github.com/#x15.4.4.20\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\ndefineProperties(ArrayPrototype, {\n    filter: function filter(fun /*, thisp */) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + ' is not a function');\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    }\n}, !properlyBoxesContext(ArrayPrototype.filter));\n\n// ES5 15.4.4.16\n// http://es5.github.com/#x15.4.4.16\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\ndefineProperties(ArrayPrototype, {\n    every: function every(fun /*, thisp */) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + ' is not a function');\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}, !properlyBoxesContext(ArrayPrototype.every));\n\n// ES5 15.4.4.17\n// http://es5.github.com/#x15.4.4.17\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\ndefineProperties(ArrayPrototype, {\n    some: function some(fun /*, thisp */) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + ' is not a function');\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}, !properlyBoxesContext(ArrayPrototype.some));\n\n// ES5 15.4.4.21\n// http://es5.github.com/#x15.4.4.21\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\nvar reduceCoercesToObject = false;\nif (ArrayPrototype.reduce) {\n    reduceCoercesToObject = typeof ArrayPrototype.reduce.call('es5', function (_, __, ___, list) { return list; }) === 'object';\n}\ndefineProperties(ArrayPrototype, {\n    reduce: function reduce(fun /*, initial*/) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + ' is not a function');\n        }\n\n        // no value to return if no initial value and an empty array\n        if (!length && arguments.length === 1) {\n            throw new TypeError('reduce of empty array with no initial value');\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (++i >= length) {\n                    throw new TypeError('reduce of empty array with no initial value');\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    }\n}, !reduceCoercesToObject);\n\n// ES5 15.4.4.22\n// http://es5.github.com/#x15.4.4.22\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\nvar reduceRightCoercesToObject = false;\nif (ArrayPrototype.reduceRight) {\n    reduceRightCoercesToObject = typeof ArrayPrototype.reduceRight.call('es5', function (_, __, ___, list) { return list; }) === 'object';\n}\ndefineProperties(ArrayPrototype, {\n    reduceRight: function reduceRight(fun /*, initial*/) {\n        var object = ES.ToObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(fun + ' is not a function');\n        }\n\n        // no value to return if no initial value, empty array\n        if (!length && arguments.length === 1) {\n            throw new TypeError('reduceRight of empty array with no initial value');\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (--i < 0) {\n                    throw new TypeError('reduceRight of empty array with no initial value');\n                }\n            } while (true);\n        }\n\n        if (i < 0) {\n            return result;\n        }\n\n        do {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    }\n}, !reduceRightCoercesToObject);\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */) {\n        var self = splitString && isString(this) ? this.split('') : ES.ToObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n// ES5 15.4.4.15\n// http://es5.github.com/#x15.4.4.15\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nvar hasFirefox2LastIndexOfBug = Array.prototype.lastIndexOf && [0, 1].lastIndexOf(0, -3) !== -1;\ndefineProperties(ArrayPrototype, {\n    lastIndexOf: function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && isString(this) ? this.split('') : ES.ToObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        // handle negative indices\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2LastIndexOfBug);\n\n//\n// Object\n// ======\n//\n\n// ES5 15.2.3.14\n// http://es5.github.com/#x15.2.3.14\n\n// http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\nvar hasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),\n    hasProtoEnumBug = function () {}.propertyIsEnumerable('prototype'),\n    dontEnums = [\n        'toString',\n        'toLocaleString',\n        'valueOf',\n        'hasOwnProperty',\n        'isPrototypeOf',\n        'propertyIsEnumerable',\n        'constructor'\n    ],\n    dontEnumsLength = dontEnums.length;\n\ndefineProperties(Object, {\n    keys: function keys(object) {\n        var isFn = isFunction(object),\n            isArgs = isArguments(object),\n            isObject = object !== null && typeof object === 'object',\n            isStr = isObject && isString(object);\n\n        if (!isObject && !isFn && !isArgs) {\n            throw new TypeError('Object.keys called on a non-object');\n        }\n\n        var theKeys = [];\n        var skipProto = hasProtoEnumBug && isFn;\n        if (isStr || isArgs) {\n            for (var i = 0; i < object.length; ++i) {\n                theKeys.push(String(i));\n            }\n        } else {\n            for (var name in object) {\n                if (!(skipProto && name === 'prototype') && owns(object, name)) {\n                    theKeys.push(String(name));\n                }\n            }\n        }\n\n        if (hasDontEnumBug) {\n            var ctor = object.constructor,\n                skipConstructor = ctor && ctor.prototype === object;\n            for (var j = 0; j < dontEnumsLength; j++) {\n                var dontEnum = dontEnums[j];\n                if (!(skipConstructor && dontEnum === 'constructor') && owns(object, dontEnum)) {\n                    theKeys.push(dontEnum);\n                }\n            }\n        }\n        return theKeys;\n    }\n});\n\nvar keysWorksWithArguments = Object.keys && (function () {\n    // Safari 5.0 bug\n    return Object.keys(arguments).length === 2;\n}(1, 2));\nvar originalKeys = Object.keys;\ndefineProperties(Object, {\n    keys: function keys(object) {\n        if (isArguments(object)) {\n            return originalKeys(ArrayPrototype.slice.call(object));\n        } else {\n            return originalKeys(object);\n        }\n    }\n}, !keysWorksWithArguments);\n\n//\n// Date\n// ====\n//\n\n// ES5 15.9.5.43\n// http://es5.github.com/#x15.9.5.43\n// This function returns a String value represent the instance in time\n// represented by this Date object. The format of the String is the Date Time\n// string format defined in 15.9.1.15. All fields are present in the String.\n// The time zone is always UTC, denoted by the suffix Z. If the time value of\n// this object is not a finite Number a RangeError exception is thrown.\nvar negativeDate = -62198755200000;\nvar negativeYearString = '-000001';\nvar hasNegativeDateBug = Date.prototype.toISOString && new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1;\n\ndefineProperties(Date.prototype, {\n    toISOString: function toISOString() {\n        var result, length, value, year, month;\n        if (!isFinite(this)) {\n            throw new RangeError('Date.prototype.toISOString called on non-finite value.');\n        }\n\n        year = this.getUTCFullYear();\n\n        month = this.getUTCMonth();\n        // see https://github.com/es-shims/es5-shim/issues/111\n        year += Math.floor(month / 12);\n        month = (month % 12 + 12) % 12;\n\n        // the date time string format is specified in 15.9.1.15.\n        result = [month + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds()];\n        year = (\n            (year < 0 ? '-' : (year > 9999 ? '+' : '')) +\n            ('00000' + Math.abs(year)).slice(0 <= year && year <= 9999 ? -4 : -6)\n        );\n\n        length = result.length;\n        while (length--) {\n            value = result[length];\n            // pad months, days, hours, minutes, and seconds to have two\n            // digits.\n            if (value < 10) {\n                result[length] = '0' + value;\n            }\n        }\n        // pad milliseconds to have three digits.\n        return (\n            year + '-' + result.slice(0, 2).join('-') +\n            'T' + result.slice(2).join(':') + '.' +\n            ('000' + this.getUTCMilliseconds()).slice(-3) + 'Z'\n        );\n    }\n}, hasNegativeDateBug);\n\n\n// ES5 15.9.5.44\n// http://es5.github.com/#x15.9.5.44\n// This function provides a String representation of a Date object for use by\n// JSON.stringify (15.12.3).\nvar dateToJSONIsSupported = false;\ntry {\n    dateToJSONIsSupported = (\n        Date.prototype.toJSON &&\n        new Date(NaN).toJSON() === null &&\n        new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1 &&\n        Date.prototype.toJSON.call({ // generic\n            toISOString: function () {\n                return true;\n            }\n        })\n    );\n} catch (e) {\n}\nif (!dateToJSONIsSupported) {\n    Date.prototype.toJSON = function toJSON(key) {\n        // When the toJSON method is called with argument key, the following\n        // steps are taken:\n\n        // 1.  Let O be the result of calling ToObject, giving it the this\n        // value as its argument.\n        // 2. Let tv be toPrimitive(O, hint Number).\n        var o = Object(this),\n            tv = toPrimitive(o),\n            toISO;\n        // 3. If tv is a Number and is not finite, return null.\n        if (typeof tv === 'number' && !isFinite(tv)) {\n            return null;\n        }\n        // 4. Let toISO be the result of calling the [[Get]] internal method of\n        // O with argument \"toISOString\".\n        toISO = o.toISOString;\n        // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n        if (typeof toISO !== 'function') {\n            throw new TypeError('toISOString property is not callable');\n        }\n        // 6. Return the result of calling the [[Call]] internal method of\n        //  toISO with O as the this value and an empty argument list.\n        return toISO.call(o);\n\n        // NOTE 1 The argument is ignored.\n\n        // NOTE 2 The toJSON function is intentionally generic; it does not\n        // require that its this value be a Date object. Therefore, it can be\n        // transferred to other kinds of objects for use as a method. However,\n        // it does require that any such object have a toISOString method. An\n        // object is free to use the argument key to filter its\n        // stringification.\n    };\n}\n\n// ES5 15.9.4.2\n// http://es5.github.com/#x15.9.4.2\n// based on work shared by Daniel Friesen (dantman)\n// http://gist.github.com/303249\nvar supportsExtendedYears = Date.parse('+033658-09-27T01:46:40.000Z') === 1e15;\nvar acceptsInvalidDates = !isNaN(Date.parse('2012-04-04T24:00:00.500Z')) || !isNaN(Date.parse('2012-11-31T23:59:59.000Z'));\nvar doesNotParseY2KNewYear = isNaN(Date.parse('2000-01-01T00:00:00.000Z'));\nif (!Date.parse || doesNotParseY2KNewYear || acceptsInvalidDates || !supportsExtendedYears) {\n    // XXX global assignment won't work in embeddings that use\n    // an alternate object for the context.\n    /*global Date: true */\n    Date = (function (NativeDate) {\n\n        // Date.length === 7\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            if (this instanceof NativeDate) {\n                var date = length === 1 && String(Y) === Y ? // isString(Y)\n                    // We explicitly pass it through parse:\n                    new NativeDate(Date.parse(Y)) :\n                    // We have to manually make calls depending on argument\n                    // length here\n                    length >= 7 ? new NativeDate(Y, M, D, h, m, s, ms) :\n                    length >= 6 ? new NativeDate(Y, M, D, h, m, s) :\n                    length >= 5 ? new NativeDate(Y, M, D, h, m) :\n                    length >= 4 ? new NativeDate(Y, M, D, h) :\n                    length >= 3 ? new NativeDate(Y, M, D) :\n                    length >= 2 ? new NativeDate(Y, M) :\n                    length >= 1 ? new NativeDate(Y) :\n                                  new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            }\n            return NativeDate.apply(this, arguments);\n        }\n\n        // 15.9.1.15 Date Time String Format.\n        var isoDateExpression = new RegExp('^' +\n            '(\\\\d{4}|[+-]\\\\d{6})' + // four-digit year capture or sign +\n                                      // 6-digit extended year\n            '(?:-(\\\\d{2})' + // optional month capture\n            '(?:-(\\\\d{2})' + // optional day capture\n            '(?:' + // capture hours:minutes:seconds.milliseconds\n                'T(\\\\d{2})' + // hours capture\n                ':(\\\\d{2})' + // minutes capture\n                '(?:' + // optional :seconds.milliseconds\n                    ':(\\\\d{2})' + // seconds capture\n                    '(?:(\\\\.\\\\d{1,}))?' + // milliseconds capture\n                ')?' +\n            '(' + // capture UTC offset component\n                'Z|' + // UTC capture\n                '(?:' + // offset specifier +/-hours:minutes\n                    '([-+])' + // sign capture\n                    '(\\\\d{2})' + // hours offset capture\n                    ':(\\\\d{2})' + // minutes offset capture\n                ')' +\n            ')?)?)?)?' +\n        '$');\n\n        var months = [\n            0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365\n        ];\n\n        function dayFromMonth(year, month) {\n            var t = month > 1 ? 1 : 0;\n            return (\n                months[month] +\n                Math.floor((year - 1969 + t) / 4) -\n                Math.floor((year - 1901 + t) / 100) +\n                Math.floor((year - 1601 + t) / 400) +\n                365 * (year - 1970)\n            );\n        }\n\n        function toUTC(t) {\n            return Number(new NativeDate(1970, 0, 1, 0, 0, 0, t));\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        Date.now = NativeDate.now;\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = function parse(string) {\n            var match = isoDateExpression.exec(string);\n            if (match) {\n                // parse months, days, hours, minutes, seconds, and milliseconds\n                // provide default values if necessary\n                // parse the UTC offset component\n                var year = Number(match[1]),\n                    month = Number(match[2] || 1) - 1,\n                    day = Number(match[3] || 1) - 1,\n                    hour = Number(match[4] || 0),\n                    minute = Number(match[5] || 0),\n                    second = Number(match[6] || 0),\n                    millisecond = Math.floor(Number(match[7] || 0) * 1000),\n                    // When time zone is missed, local offset should be used\n                    // (ES 5.1 bug)\n                    // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n                    isLocalTime = Boolean(match[4] && !match[8]),\n                    signOffset = match[9] === '-' ? 1 : -1,\n                    hourOffset = Number(match[10] || 0),\n                    minuteOffset = Number(match[11] || 0),\n                    result;\n                if (\n                    hour < (\n                        minute > 0 || second > 0 || millisecond > 0 ?\n                        24 : 25\n                    ) &&\n                    minute < 60 && second < 60 && millisecond < 1000 &&\n                    month > -1 && month < 12 && hourOffset < 24 &&\n                    minuteOffset < 60 && // detect invalid offsets\n                    day > -1 &&\n                    day < (\n                        dayFromMonth(year, month + 1) -\n                        dayFromMonth(year, month)\n                    )\n                ) {\n                    result = (\n                        (dayFromMonth(year, month) + day) * 24 +\n                        hour +\n                        hourOffset * signOffset\n                    ) * 60;\n                    result = (\n                        (result + minute + minuteOffset * signOffset) * 60 +\n                        second\n                    ) * 1000 + millisecond;\n                    if (isLocalTime) {\n                        result = toUTC(result);\n                    }\n                    if (-8.64e15 <= result && result <= 8.64e15) {\n                        return result;\n                    }\n                }\n                return NaN;\n            }\n            return NativeDate.parse.apply(this, arguments);\n        };\n\n        return Date;\n    }(Date));\n    /*global Date: false */\n}\n\n// ES5 15.9.4.4\n// http://es5.github.com/#x15.9.4.4\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\n\n\n//\n// Number\n// ======\n//\n\n// ES5.1 15.7.4.5\n// http://es5.github.com/#x15.7.4.5\nvar hasToFixedBugs = NumberPrototype.toFixed && (\n  (0.00008).toFixed(3) !== '0.000' ||\n  (0.9).toFixed(0) !== '1' ||\n  (1.255).toFixed(2) !== '1.25' ||\n  (1000000000000000128).toFixed(0) !== '1000000000000000128'\n);\n\nvar toFixedHelpers = {\n  base: 1e7,\n  size: 6,\n  data: [0, 0, 0, 0, 0, 0],\n  multiply: function multiply(n, c) {\n      var i = -1;\n      while (++i < toFixedHelpers.size) {\n          c += n * toFixedHelpers.data[i];\n          toFixedHelpers.data[i] = c % toFixedHelpers.base;\n          c = Math.floor(c / toFixedHelpers.base);\n      }\n  },\n  divide: function divide(n) {\n      var i = toFixedHelpers.size, c = 0;\n      while (--i >= 0) {\n          c += toFixedHelpers.data[i];\n          toFixedHelpers.data[i] = Math.floor(c / n);\n          c = (c % n) * toFixedHelpers.base;\n      }\n  },\n  numToString: function numToString() {\n      var i = toFixedHelpers.size;\n      var s = '';\n      while (--i >= 0) {\n          if (s !== '' || i === 0 || toFixedHelpers.data[i] !== 0) {\n              var t = String(toFixedHelpers.data[i]);\n              if (s === '') {\n                  s = t;\n              } else {\n                  s += '0000000'.slice(0, 7 - t.length) + t;\n              }\n          }\n      }\n      return s;\n  },\n  pow: function pow(x, n, acc) {\n      return (n === 0 ? acc : (n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)));\n  },\n  log: function log(x) {\n      var n = 0;\n      while (x >= 4096) {\n          n += 12;\n          x /= 4096;\n      }\n      while (x >= 2) {\n          n += 1;\n          x /= 2;\n      }\n      return n;\n  }\n};\n\ndefineProperties(NumberPrototype, {\n    toFixed: function toFixed(fractionDigits) {\n        var f, x, s, m, e, z, j, k;\n\n        // Test for NaN and round fractionDigits down\n        f = Number(fractionDigits);\n        f = f !== f ? 0 : Math.floor(f);\n\n        if (f < 0 || f > 20) {\n            throw new RangeError('Number.toFixed called with invalid number of decimals');\n        }\n\n        x = Number(this);\n\n        // Test for NaN\n        if (x !== x) {\n            return 'NaN';\n        }\n\n        // If it is too big or small, return the string value of the number\n        if (x <= -1e21 || x >= 1e21) {\n            return String(x);\n        }\n\n        s = '';\n\n        if (x < 0) {\n            s = '-';\n            x = -x;\n        }\n\n        m = '0';\n\n        if (x > 1e-21) {\n            // 1e-21 < x < 1e21\n            // -70 < log2(x) < 70\n            e = toFixedHelpers.log(x * toFixedHelpers.pow(2, 69, 1)) - 69;\n            z = (e < 0 ? x * toFixedHelpers.pow(2, -e, 1) : x / toFixedHelpers.pow(2, e, 1));\n            z *= 0x10000000000000; // Math.pow(2, 52);\n            e = 52 - e;\n\n            // -18 < e < 122\n            // x = z / 2 ^ e\n            if (e > 0) {\n                toFixedHelpers.multiply(0, z);\n                j = f;\n\n                while (j >= 7) {\n                    toFixedHelpers.multiply(1e7, 0);\n                    j -= 7;\n                }\n\n                toFixedHelpers.multiply(toFixedHelpers.pow(10, j, 1), 0);\n                j = e - 1;\n\n                while (j >= 23) {\n                    toFixedHelpers.divide(1 << 23);\n                    j -= 23;\n                }\n\n                toFixedHelpers.divide(1 << j);\n                toFixedHelpers.multiply(1, 1);\n                toFixedHelpers.divide(2);\n                m = toFixedHelpers.numToString();\n            } else {\n                toFixedHelpers.multiply(0, z);\n                toFixedHelpers.multiply(1 << (-e), 0);\n                m = toFixedHelpers.numToString() + '0.00000000000000000000'.slice(2, 2 + f);\n            }\n        }\n\n        if (f > 0) {\n            k = m.length;\n\n            if (k <= f) {\n                m = s + '0.0000000000000000000'.slice(0, f - k + 2) + m;\n            } else {\n                m = s + m.slice(0, k - f) + '.' + m.slice(k - f);\n            }\n        } else {\n            m = s + m;\n        }\n\n        return m;\n    }\n}, hasToFixedBugs);\n\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = typeof (/()??/).exec('')[1] === 'undefined'; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (typeof separator === 'undefined' && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (to_string.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline ? 'm' : '') +\n                        (separator.extended ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = typeof limit === 'undefined' ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ES.ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (typeof arguments[i] === 'undefined') {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        array_push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (typeof separator === 'undefined' && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\nvar str_replace = StringPrototype.replace;\nvar replaceReportsGroupsCorrectly = (function () {\n    var groups = [];\n    'x'.replace(/x(.)?/g, function (match, group) {\n        groups.push(group);\n    });\n    return groups.length === 1 && typeof groups[0] === 'undefined';\n}());\n\nif (!replaceReportsGroupsCorrectly) {\n    StringPrototype.replace = function replace(searchValue, replaceValue) {\n        var isFn = isFunction(replaceValue);\n        var hasCapturingGroups = isRegex(searchValue) && (/\\)[*?]/).test(searchValue.source);\n        if (!isFn || !hasCapturingGroups) {\n            return str_replace.call(this, searchValue, replaceValue);\n        } else {\n            var wrappedReplaceValue = function (match) {\n                var length = arguments.length;\n                var originalLastIndex = searchValue.lastIndex;\n                searchValue.lastIndex = 0;\n                var args = searchValue.exec(match) || [];\n                searchValue.lastIndex = originalLastIndex;\n                args.push(arguments[length - 2], arguments[length - 1]);\n                return replaceValue.apply(this, args);\n            };\n            return str_replace.call(this, searchValue, wrappedReplaceValue);\n        }\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n\n// ES5 15.5.4.20\n// whitespace from: http://es5.github.io/#x15.5.4.20\nvar ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n    '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' +\n    '\\u2029\\uFEFF';\nvar zeroWidth = '\\u200b';\nvar wsRegexChars = '[' + ws + ']';\nvar trimBeginRegexp = new RegExp('^' + wsRegexChars + wsRegexChars + '*');\nvar trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + '*$');\nvar hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() || !zeroWidth.trim());\ndefineProperties(StringPrototype, {\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    trim: function trim() {\n        if (typeof this === 'undefined' || this === null) {\n            throw new TypeError(\"can't convert \" + this + ' to object');\n        }\n        return String(this).replace(trimBeginRegexp, '').replace(trimEndRegexp, '');\n    }\n}, hasTrimWhitespaceBug);\n\n// ES-5 15.1.2.2\nif (parseInt(ws + '08') !== 8 || parseInt(ws + '0x16') !== 22) {\n    /*global parseInt: true */\n    parseInt = (function (origParseInt) {\n        var hexRegex = /^0[xX]/;\n        return function parseIntES5(str, radix) {\n            str = String(str).trim();\n            if (!Number(radix)) {\n                radix = hexRegex.test(str) ? 16 : 10;\n            }\n            return origParseInt(str, radix);\n        };\n    }(parseInt));\n}\n\n}));\n"],"sourceRoot":"/source/"}